---
import FormattedDate from "./FormattedDate.astro";
import {getCollection} from "astro:content";
const posts = await getCollection('blog');
import Image from 'astro/components/Image.astro';
posts.sort((a, b) => +b.data.date - +a.data.date);
---
<section class="mx-auto max-w-7xl">
    <ul transition:name="post">
        {
            posts.slice(0, 2).map((post) => (
                    <li class="post">
                        <div class="version_wrapper">
                            <div class="version_info">
                                <a href={`/blog/${post.id}`}>
                                    <FormattedDate class="date" date={post.data.date}/>
                                </a>
                            </div>
                        </div>

                        <div class="content">
                            <a href={`/blog/${post.id}`}><h2>{post.data.title}</h2></a>
                            <p class="description">{post.data.description}</p>
                            <a href={`/blog/${post.id}`}>
                                <Image
                                        src={post.data.image.src}
                                        alt={post.data.image.alt}
                                        class="post-image"
                                        loading="lazy"
                                />
                            </a>
                        </div>
                    </li>
            ))
        }
    </ul>
</section>